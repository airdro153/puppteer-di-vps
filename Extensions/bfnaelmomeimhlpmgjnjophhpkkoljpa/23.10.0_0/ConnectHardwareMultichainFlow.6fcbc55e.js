(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=o.parcelRequire1d24;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},o.parcelRequire1d24=i),i.register("6tBWY",(function(o,n){t(o.exports,"removeSubdomainFromDomain",(function(){return v}),(function(e){return v=e})),t(o.exports,"detectPhishing",(function(){return x}),(function(e){return x=e})),t(o.exports,"getNFTBlocklist",(function(){return K}),(function(e){return K=e}));var r=i("al0iy"),l=i("gEQ8x"),s=i("dX6ZT"),a=i("HlEsU"),c=i("RVqnc"),u=i("bKbRw"),d=i("7XqVB"),f=i("9CoSy"),h=i("7qsqs"),y=function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function l(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,s)}a((n=n.apply(e,t||[])).next())}))};const p=6e5,m=(d.z.object({type:d.z.union([d.z.literal("all"),d.z.literal("blocklist"),d.z.literal("whitelist"),d.z.literal("error"),d.z.literal("fuzzy"),d.z.literal("blowfishBloomFilter")]),result:d.z.boolean(),source:d.z.optional(d.z.string()),match:d.z.string().optional(),isSubdomainDomainWhitelisted:d.z.boolean().optional()}),d.z.object({localHash:d.z.any()}),d.z.object({bitVector:d.z.string(),k:d.z.number(),hash:d.z.string(),bits:d.z.number(),salt:d.z.string()})),g=d.z.union([d.z.object({bloomFilter:m,bloomFilterHash:d.z.string(),recentlyAdded:d.z.array(d.z.string()),recentlyRemoved:d.z.array(d.z.string())}),d.z.object({bloomFilter:m.optional(),bloomFilterHash:d.z.optional(d.z.string()),recentlyAdded:d.z.array(d.z.string()),recentlyRemoved:d.z.array(d.z.string())})]),b=d.z.object({bloomFilter:m,lastUpdated:d.z.number()}).nullish(),z=d.z.object({recentlyAdded:d.z.array(d.z.string()),recentlyRemoved:d.z.array(d.z.string()),lastUpdated:d.z.number().optional()}).nullish();class w{check(t,o,n){if(!t)return{type:"all",result:!1,isSubdomainDomainWhitelisted:!1};const r=v(t),i=C(r);if(A(i,this.whitelist)){const e=new URL(t).hostname;if(D(C(e),this.blocklist)){const t={type:"blocklist",result:!0,source:e,isSubdomainDomainWhitelisted:!0};return o&&n.capture("blockedDomain",{data:t}),t}return{type:"whitelist",result:!1,source:e,isSubdomainDomainWhitelisted:!0}}if(D(i,this.whitelist))return{type:"whitelist",result:!1,source:r,isSubdomainDomainWhitelisted:!1};if(D(i,this.blocklist)){const e={type:"blocklist",result:!0,source:r,isSubdomainDomainWhitelisted:!1};return o&&n.capture("blockedDomain",{data:e}),e}if(this.tolerance>0){let t=B(i);t=t.replace("www.","");const o=this.fuzzylist.find((o=>{const n=B(o);return e(u).get(t,n)<=this.tolerance}));if(o){return{type:"fuzzy",result:!0,match:k(o),source:r,isSubdomainDomainWhitelisted:!1}}}return{type:"all",result:!1,source:r,isSubdomainDomainWhitelisted:!1}}constructor(e,t,o,n){this.blocklist=S(e),this.whitelist=S(t),this.fuzzylist=S(o),this.tolerance=n||3}}const v=e=>{const t=new URL(e).hostname.split(".");return t.slice(0).slice(-(4===t.length?3:2)).join(".")},S=e=>e.map(C),C=e=>e.split(".").reverse(),k=e=>e.slice().reverse().join("."),B=e=>e.slice(1).reverse().join("."),D=(e,t)=>t.some((t=>!(t.length>e.length)&&t.every(((t,o)=>e[o]===t)))),A=(e,t)=>t.some((t=>t[0]===e[0]&&t[1]===e[1]&&"*"===t[2])),x=(e,t,o)=>y(void 0,void 0,void 0,(function*(){const n=(0,s.getBlocklist)(),r=yield(0,h.getStorageValue)(a.StorageKeys.CachedBlocklistDiff),i=JSON.parse(`${r}`);let l,u,d;try{const e=yield(0,c.withTimeout)(t.getFeatureFlags(),1e3);l=!!e["kill-blowfish-blocklist"],u=!!e["enable-blocklist-metrics"],d=!!e["enable-blocklist-blowfish-logonly"]}catch(e){l=!1,u=!0,d=!0}if(i&&i.expiresAt&&i.expiresAt>Date.now()){const r=new w(n.blocklist.concat(i.blocklist),n.whitelist.concat(i.whitelist),n.fuzzylist.concat(i.fuzzylist)).check(o,u,t);return"all"!==r.type||l?r:F(o,u,d,e,t)}{const r=new Headers,c=(0,s.getVersion)();i&&r.append("lastContentHash",`${i.contentHash}`),c&&r.append("localBlocklistVersion",`${c}`);const y=yield fetch(f.PHANTOM_BLOCKLIST_URL,{headers:r});if(200===y.status){const r=yield y.json();r.expiresAt=Date.now()+p,(0,h.setStorageValue)(a.StorageKeys.CachedBlocklistDiff,JSON.stringify(r));const i=new w(n.blocklist.concat(r.blocklist),n.whitelist.concat(r.whitelist),n.fuzzylist.concat(r.fuzzylist)).check(o,u,t);return"all"!=i.type||l?i:F(o,u,d,e,t)}if(304===y.status){i.expiresAt=Date.now()+p,(0,h.setStorageValue)(a.StorageKeys.CachedBlocklistDiff,JSON.stringify(i));const r=new w(n.blocklist.concat(i.blocklist),n.whitelist.concat(i.whitelist),n.fuzzylist.concat(i.fuzzylist)).check(o,u,t);return"all"!=r.type||l?r:F(o,u,d,e,t)}return{result:!1,type:"error",isSubdomainDomainWhitelisted:!1}}})),F=(e,t,o,n,i)=>y(void 0,void 0,void 0,(function*(){var s,c,u;if(!e)return{type:"all",result:!1,isSubdomainDomainWhitelisted:!1};const d=v(e),h=yield n.getAll([a.StorageKeys.CachedBloomFilter,a.StorageKeys.CachedBloomFilterHash,a.StorageKeys.CachedScanDataRecents]),y=null!==(s=h[a.StorageKeys.CachedBloomFilter])&&void 0!==s?s:null,m=null!==(c=h[a.StorageKeys.CachedBloomFilterHash])&&void 0!==c?c:null,w=null!==(u=h[a.StorageKeys.CachedScanDataRecents])&&void 0!==u?u:null;let S=null,C={recentlyAdded:[],recentlyRemoved:[],lastUpdated:0};if(y){const e=b.safeParse(y);e.success?S=e.data:yield n.remove([a.StorageKeys.CachedBloomFilter,a.StorageKeys.CachedBloomFilterHash,a.StorageKeys.CachedScanDataRecents])}if(w){const e=z.safeParse(w);e.success?C=e.data:yield n.remove([a.StorageKeys.CachedBloomFilter,a.StorageKeys.CachedBloomFilterHash,a.StorageKeys.CachedScanDataRecents])}if(!C||null==C.lastUpdated||Date.now()>C.lastUpdated+p){const e={localHash:m},t=yield fetch(f.BLOWFISH_BLOOMFILTER_URL,{method:"POST",body:JSON.stringify(e)});if(200!==t.status)return{result:!1,type:"error",isSubdomainDomainWhitelisted:!1};const o=yield t.json();let r;const i=g.safeParse(o);if(!i.success)return{result:!1,type:"error",isSubdomainDomainWhitelisted:!1};r=i.data;const l={recentlyAdded:r.recentlyAdded,recentlyRemoved:r.recentlyRemoved,lastUpdated:Date.now()};if(yield n.set(a.StorageKeys.CachedScanDataRecents,l),C=l,null!=r.bloomFilter){const e={bloomFilter:r.bloomFilter,lastUpdated:Date.now()};yield Promise.all([n.set(a.StorageKeys.CachedBloomFilter,e),n.set(a.StorageKeys.CachedBloomFilterHash,r.bloomFilterHash)]),S=e}}if(!S)return{type:"all",result:!1,isSubdomainDomainWhitelisted:!1};const k=(0,r.scanDomain)(S.bloomFilter,C.recentlyAdded,C.recentlyRemoved,e);if(k===l.Action.BLOCK){const e={result:!0,source:d,type:"blowfishBloomFilter"};return t&&i.capture("blockedDomain",{data:e}),o?{result:!1,type:"all",isSubdomainDomainWhitelisted:!1}:e}return k===l.Action.NONE?{result:!1,type:"all",isSubdomainDomainWhitelisted:!1}:{result:!1,type:"error",isSubdomainDomainWhitelisted:!1}})),K=()=>y(void 0,void 0,void 0,(function*(){const e=yield(0,h.getStorageValue)(a.StorageKeys.CachedBlocklistDiff),t=JSON.parse(`${e}`);return t&&t.nftBlocklist?t.nftBlocklist:[]}))})),i.register("al0iy",(function(e,o){t(e.exports,"scanDomain",(function(){return l}),(function(e){return l=e}));i("1LpD3");var n=i("gEQ8x"),r=i("kcoVb");function l(e,t,o,i){for(var l=new URL(i).hostname.toLowerCase().split("."),s=0;s<l.length-1;s++){var a=l.slice(s).join(".");if(t.includes(a))return n.Action.BLOCK;if((0,r.lookup)(e,a)&&!o.includes(a))return n.Action.BLOCK}return n.Action.NONE}})),i.register("gEQ8x",(function(e,o){var n,r;t(e.exports,"Action",(function(){return n})),(r=n||(n={})).BLOCK="BLOCK",r.NONE="NONE"})),i.register("kcoVb",(function(o,n){t(o.exports,"lookup",(function(){return s}));var r=i("4FfQv"),l=i("8tcqI").Buffer;function s(t,o){for(var n=0;n<t.k;n++){var i=e(r)("".concat(t.salt,"_").concat(o,"_").concat(n),{asBytes:!0}),s=l.from(i).subarray(0,4).readUInt32BE(0)%t.bits,a=Math.floor(s/24),c=s%24,u=c%8;if(0==(l.from(t.bitVector.slice(4*a,4*a+4),"base64")[Math.floor(c/8)]&1<<7-u))return!1}return!0}})),i.register("4FfQv",(function(e,t){var o,n,r,l,s=i("8tcqI").Buffer;o=i("SGO3D"),n=i("hfc1Q").utf8,r=i("hfc1Q").bin,(l=function(e,t){var i=o.wordsToBytes(function(e){e.constructor==String?e=n.stringToBytes(e):void 0!==s&&"function"==typeof s.isBuffer&&s.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=o.bytesToWords(e),r=8*e.length,i=[],l=1732584193,a=-271733879,c=-1732584194,u=271733878,d=-1009589776;t[r>>5]|=128<<24-r%32,t[15+(r+64>>>9<<4)]=r;for(var f=0;f<t.length;f+=16){for(var h=l,y=a,p=c,m=u,g=d,b=0;b<80;b++){if(b<16)i[b]=t[f+b];else{var z=i[b-3]^i[b-8]^i[b-14]^i[b-16];i[b]=z<<1|z>>>31}var w=(l<<5|l>>>27)+d+(i[b]>>>0)+(b<20?1518500249+(a&c|~a&u):b<40?1859775393+(a^c^u):b<60?(a&c|a&u|c&u)-1894007588:(a^c^u)-899497514);d=u,u=c,c=a<<30|a>>>2,a=l,l=w}l+=h,a+=y,c+=p,u+=m,d+=g}return[l,a,c,u,d]}(e));return t&&t.asBytes?i:t&&t.asString?r.bytesToString(i):o.bytesToHex(i)})._blocksize=16,l._digestsize=20,e.exports=l})),i.register("dX6ZT",(function(e,o){var n,r;t(e.exports,"getVersion",(function(){return n}),(function(e){return n=e})),t(e.exports,"getBlocklist",(function(){return r}),(function(e){return r=e}));var l=i("hqGpV").version,s=i("3CIKc");n=()=>l,r=()=>s})),i.register("hqGpV",(function(e,t){e.exports=JSON.parse('{"name":"@phantom-labs/blocklist","version":"0.13.0","main":"index.js","types":"index.d.ts","repository":"git@github.com:phantom-labs/blocklist.git","author":"Jordan Leigh <AlwaysBCoding@gmail.com>","license":"MIT","scripts":{"build":"node build.js"},"dependencies":{"js-yaml":"^4.1.0","sha3":"^2.1.4"}}')})),i.register("3CIKc",(function(e,t){e.exports=JSON.parse('{"blocklist":["phantomweb.app","aurory.app","solvision.io","staratlas.art","starsatlas.com","sollet.cc","raydlum.io","aurorynft.com","sneks.gg","solletweb.io","i-sollet.com","fancyfrenchienft.art","solanawebwallet.online","phahtom.com","server-syncwallet.com","staratias.app","raydium.network","grapesnetwork.me","staratias.art","soistarter.org","audius-nft.top","aurory.me","degenapes.app","phantom-app.online","phantomwallet.net","dapps-node.com","phantom-app.link","solanaoutage.com","walletconnectdapps.net","staratlas.cx","web-phantom.app","0120tt.com"],"whitelist":[],"fuzzylist":[],"contentHash":"830ea1c9a833213eabc17990adf053081f503b1203ca9a2c711db7199e657293"}')})),i.register("bKbRw",(function(e,t){!function(){"use strict";var o;try{o="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(e){console.log("Collator could not be initialized and wouldn't be used")}var n=i("70tAE"),r=[],l=[],s={get:function(e,t,i){if(i&&o&&i.useCollator){var s,a,c,u,d,f,h=e.length,y=t.length;if(0===h)return y;if(0===y)return h;for(c=0;c<y;++c)r[c]=c,l[c]=t.charCodeAt(c);for(r[y]=y,c=0;c<h;++c){for(a=c+1,u=0;u<y;++u)s=a,f=0===o.compare(e.charAt(c),String.fromCharCode(l[u])),(a=r[u]+(f?0:1))>(d=s+1)&&(a=d),a>(d=r[u+1]+1)&&(a=d),r[u]=s;r[u]=a}return a}return n.distance(e,t)}};"undefined"!=typeof define&&null!==define&&define.amd?define((function(){return s})):null!==e&&e.exports===t?e.exports=s:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=s:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=s)}()})),i.register("70tAE",(function(e,o){t(e.exports,"distance",(function(){return r})),t(e.exports,"closest",(function(){return i}));const n=new Uint32Array(65536),r=(e,t)=>{if(e.length<t.length){const o=t;t=e,e=o}return 0===t.length?e.length:e.length<=32?((e,t)=>{const o=e.length,r=t.length,i=1<<o-1;let l=-1,s=0,a=o,c=o;for(;c--;)n[e.charCodeAt(c)]|=1<<c;for(c=0;c<r;c++){let e=n[t.charCodeAt(c)];const o=e|s;e|=(e&l)+l^l,s|=~(e|l),l&=e,s&i&&a++,l&i&&a--,s=s<<1|1,l=l<<1|~(o|s),s&=o}for(c=o;c--;)n[e.charCodeAt(c)]=0;return a})(e,t):((e,t)=>{const o=t.length,r=e.length,i=[],l=[],s=Math.ceil(o/32),a=Math.ceil(r/32);for(let e=0;e<s;e++)l[e]=-1,i[e]=0;let c=0;for(;c<a-1;c++){let s=0,a=-1;const u=32*c,d=Math.min(32,r)+u;for(let t=u;t<d;t++)n[e.charCodeAt(t)]|=1<<t;for(let e=0;e<o;e++){const o=n[t.charCodeAt(e)],r=l[e/32|0]>>>e&1,c=i[e/32|0]>>>e&1,u=o|s,d=((o|c)&a)+a^a|o|c;let f=s|~(d|a),h=a&d;f>>>31^r&&(l[e/32|0]^=1<<e),h>>>31^c&&(i[e/32|0]^=1<<e),f=f<<1|r,h=h<<1|c,a=h|~(u|f),s=f&u}for(let t=u;t<d;t++)n[e.charCodeAt(t)]=0}let u=0,d=-1;const f=32*c,h=Math.min(32,r-f)+f;for(let t=f;t<h;t++)n[e.charCodeAt(t)]|=1<<t;let y=r;for(let e=0;e<o;e++){const o=n[t.charCodeAt(e)],s=l[e/32|0]>>>e&1,a=i[e/32|0]>>>e&1,c=o|u,f=((o|a)&d)+d^d|o|a;let h=u|~(f|d),p=d&f;y+=h>>>r-1&1,y-=p>>>r-1&1,h>>>31^s&&(l[e/32|0]^=1<<e),p>>>31^a&&(i[e/32|0]^=1<<e),h=h<<1|s,p=p<<1|a,d=p|~(c|h),u=h&c}for(let t=f;t<h;t++)n[e.charCodeAt(t)]=0;return y})(e,t)},i=(e,t)=>{let o=1/0,n=0;for(let i=0;i<t.length;i++){const l=r(e,t[i]);l<o&&(o=l,n=i)}return t[n]}}))}();
//# sourceMappingURL=ConnectHardwareMultichainFlow.6fcbc55e.js.map
define=__define;})(window.define);