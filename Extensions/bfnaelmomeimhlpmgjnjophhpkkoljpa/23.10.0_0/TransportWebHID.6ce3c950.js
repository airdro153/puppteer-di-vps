(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},s=t.parcelRequire1d24;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in o){var r=o[e];delete o[e];var t={id:e,exports:{}};return n[e]=t,r.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){o[e]=r},t.parcelRequire1d24=s),s.register("2Vsq5",(function(r,t){var n;n=r.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",(function(){return b}),(function(e){return b=e}));var o,a=s("e5ps5"),i=s("gWrUf"),c=s("h6NoS"),u=s("krsE8"),l=s("iBvu5"),d=s("6rT8n").Buffer,f=(o=function(e,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},o(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),p=function(e,r,t,n){return new(t||(t=Promise))((function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,i)}c((n=n.apply(e,r||[])).next())}))},C=function(e,r){var t,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=r.call(e,a)}catch(e){s=[6,e],n=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},E=function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,s=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=s.return)&&t.call(s)}finally{if(o)throw o.error}}return a},h=[{vendorId:c.ledgerUSBVendorId}],v=function(){return Promise.resolve(!(!window.navigator||!window.navigator.hid))},m=function(){var e=navigator.hid;if(!e)throw new(0,l.TransportError)("navigator.hid is not supported","HIDNotSupported");return e};function g(){return p(this,void 0,void 0,(function(){var e;return C(this,(function(r){switch(r.label){case 0:return[4,m().requestDevice({filters:h})];case 1:return e=r.sent(),Array.isArray(e)?[2,e]:[2,[e]]}}))}))}function y(){return p(this,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,m().getDevices()];case 1:return[2,e.sent().filter((function(e){return e.vendorId===c.ledgerUSBVendorId}))]}}))}))}var b=function(e){function r(r){var t=e.call(this)||this;return t.channel=Math.floor(65535*Math.random()),t.packetSize=64,t.inputs=[],t.read=function(){return t.inputs.length?Promise.resolve(t.inputs.shift()):new Promise((function(e){t.inputCallback=e}))},t.onInputReport=function(e){var r=d.from(e.data.buffer);t.inputCallback?(t.inputCallback(r),t.inputCallback=null):t.inputs.push(r)},t._disconnectEmitted=!1,t._emitDisconnect=function(e){t._disconnectEmitted||(t._disconnectEmitted=!0,t.emit("disconnect",e))},t.exchange=function(e){return p(t,void 0,void 0,(function(){var r=this;return C(this,(function(t){switch(t.label){case 0:return[4,this.exchangeAtomicImpl((function(){return p(r,void 0,void 0,(function(){var r,t,n,o,s,a,c,l,d;return C(this,(function(f){switch(f.label){case 0:t=(r=this).channel,n=r.packetSize,(0,u.log)("apdu","=> "+e.toString("hex")),o=(0,i.default)(t,n),s=o.makeBlocks(e),a=0,f.label=1;case 1:return a<s.length?[4,this.device.sendReport(0,s[a])]:[3,4];case 2:f.sent(),f.label=3;case 3:return a++,[3,1];case 4:return(c=o.getReducedResult(l))?[3,6]:[4,this.read()];case 5:return d=f.sent(),l=o.reduceResponse(l,d),[3,4];case 6:return(0,u.log)("apdu","<= "+c.toString("hex")),[2,c]}}))}))})).catch((function(e){if(e&&e.message&&e.message.includes("write"))throw r._emitDisconnect(e),new(0,l.DisconnectedDeviceDuringOperation)(e.message);throw e}))];case 1:return[2,t.sent()]}}))}))},t.device=r,t.deviceModel="number"==typeof r.productId?(0,c.identifyUSBProductId)(r.productId):void 0,r.addEventListener("inputreport",t.onInputReport),t}return f(r,e),r.request=function(){return p(this,void 0,void 0,(function(){var e,t;return C(this,(function(n){switch(n.label){case 0:return[4,g()];case 1:return e=E.apply(void 0,[n.sent(),1]),t=e[0],[2,r.open(t)]}}))}))},r.openConnected=function(){return p(this,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return[4,y()];case 1:return 0===(e=t.sent()).length?[2,null]:[2,r.open(e[0])]}}))}))},r.open=function(e){return p(this,void 0,void 0,(function(){var t,n;return C(this,(function(o){switch(o.label){case 0:return[4,e.open()];case 1:return o.sent(),t=new r(e),n=function(r){e===r.device&&(m().removeEventListener("disconnect",n),t._emitDisconnect(new(0,l.DisconnectedDevice)))},m().addEventListener("disconnect",n),[2,t]}}))}))},r.prototype.close=function(){return p(this,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,this.exchangeBusyPromise];case 1:return e.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return e.sent(),[2]}}))}))},r.prototype.setScrambleKey=function(){},r.isSupported=v,r.list=y,r.listen=function(e){var r=!1;return function(){return p(this,void 0,void 0,(function(){var e;return C(this,(function(r){switch(r.label){case 0:return[4,y()];case 1:return(e=r.sent()).length>0?[2,e[0]]:[4,g()];case 2:return[2,r.sent()[0]]}}))}))}().then((function(t){if(t){if(!r){var n="number"==typeof t.productId?(0,c.identifyUSBProductId)(t.productId):void 0;e.next({type:"add",descriptor:t,deviceModel:n}),e.complete()}}else e.error(new(0,l.TransportOpenUserCancelled)("Access denied to use Ledger device"))}),(function(r){e.error(new(0,l.TransportOpenUserCancelled)(r.message))})),{unsubscribe:function(){r=!0}}},r}(a.default)})),s.register("e5ps5",(function(t,n){e(t.exports,"default",(function(){return C}),(function(e){return C=e})),e(t.exports,"TransportError",(function(){return s("iBvu5").TransportError}),(function(e){return s("iBvu5").TransportError=e})),e(t.exports,"TransportStatusError",(function(){return s("iBvu5").TransportStatusError}),(function(e){return s("iBvu5").TransportStatusError=e})),e(t.exports,"StatusCodes",(function(){return s("iBvu5").StatusCodes}),(function(e){return s("iBvu5").StatusCodes=e})),e(t.exports,"getAltStatusMessage",(function(){return $a415468fbc832053$re_export$getAltStatusMessage}),(function(e){return $a415468fbc832053$re_export$getAltStatusMessage=e}));var o=s("2p5of"),a=s("iBvu5"),i=s("6rT8n").Buffer,c=function(e,r,t,n){return new(t||(t=Promise))((function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(a,i)}c((n=n.apply(e,r||[])).next())}))},u=function(e,r){var t,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=r.call(e,a)}catch(e){s=[6,e],n=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},l=function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,s=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=s.return)&&t.call(s)}finally{if(o)throw o.error}}return a},d=function(e,r,t){if(t||2===arguments.length)for(var n,o=0,s=r.length;o<s;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))},f=function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(){function e(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(r(o)),this.send=function(r,t,n,o,s,l){return void 0===s&&(s=i.alloc(0)),void 0===l&&(l=[a.StatusCodes.OK]),c(e,void 0,void 0,(function(){var e,c;return u(this,(function(u){switch(u.label){case 0:if(s.length>=256)throw new(0,a.TransportError)("data.length exceed 256 bytes limit. Got: "+s.length,"DataLengthTooBig");return[4,this.exchange(i.concat([i.from([r,t,n,o]),i.from([s.length]),s]))];case 1:if(e=u.sent(),c=e.readUInt16BE(e.length-2),!l.some((function(e){return e===c})))throw new(0,a.TransportStatusError)(c);return[2,e]}}))}))},this.exchangeAtomicImpl=function(r){return c(e,void 0,void 0,(function(){var e,t,n,o,s,i=this;return u(this,(function(c){switch(c.label){case 0:if(this.exchangeBusyPromise)throw new(0,a.TransportRaceCondition)("An action was already pending on the Ledger device. Please deny or reconnect.");t=new Promise((function(r){e=r})),this.exchangeBusyPromise=t,n=!1,o=setTimeout((function(){n=!0,i.emit("unresponsive")}),this.unresponsiveTimeout),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,r()];case 2:return s=c.sent(),n&&this.emit("responsive"),[2,s];case 3:return clearTimeout(o),e&&e(),this.exchangeBusyPromise=null,[7];case 4:return[2]}}))}))},this._appAPIlock=null}return e.prototype.exchange=function(e){throw new Error("exchange not implemented")},e.prototype.setScrambleKey=function(e){},e.prototype.close=function(){return Promise.resolve()},e.prototype.on=function(e,r){this._events.on(e,r)},e.prototype.off=function(e,r){this._events.removeListener(e,r)},e.prototype.emit=function(e){for(var r,t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];(r=this._events).emit.apply(r,d([e],l(t),!1))},e.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},e.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},e.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},e.create=function(e,r){var t=this;return void 0===e&&(e=3e3),new Promise((function(n,o){var s=!1,i=t.listen({next:function(r){s=!0,i&&i.unsubscribe(),c&&clearTimeout(c),t.open(r.descriptor,e).then(n,o)},error:function(e){c&&clearTimeout(c),o(e)},complete:function(){c&&clearTimeout(c),s||o(new(0,a.TransportError)(t.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),c=r?setTimeout((function(){i.unsubscribe(),o(new(0,a.TransportError)(t.ErrorMessage_ListenTimeout,"ListenTimeout"))}),r):null}))},e.prototype.decorateAppAPIMethods=function(e,r,t){var n,o;try{for(var s=f(r),a=s.next();!a.done;a=s.next()){var i=a.value;e[i]=this.decorateAppAPIMethod(i,e[i],e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.decorateAppAPIMethod=function(e,r,t,n){var o=this;return function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];return c(o,void 0,void 0,(function(){var o;return u(this,(function(i){switch(i.label){case 0:if(o=this._appAPIlock)return[2,Promise.reject(new(0,a.TransportError)("Ledger Device is busy (lock "+o+")","TransportLocked"))];i.label=1;case 1:return i.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(n),[4,r.apply(t,s)];case 2:return[2,i.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}}))}))}},e.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",e.ErrorMessage_NoDeviceFound="No Ledger device found",e}(),C=p})),s.register("iBvu5",(function(r,t){e(r.exports,"DisconnectedDevice",(function(){return i}),(function(e){return i=e})),e(r.exports,"DisconnectedDeviceDuringOperation",(function(){return c}),(function(e){return c=e})),e(r.exports,"TransportOpenUserCancelled",(function(){return u}),(function(e){return u=e})),e(r.exports,"TransportRaceCondition",(function(){return l}),(function(e){return l=e})),e(r.exports,"TransportError",(function(){return d}),(function(e){return d=e})),e(r.exports,"StatusCodes",(function(){return f}),(function(e){return f=e})),e(r.exports,"TransportStatusError",(function(){return p}),(function(e){return p=e})),e(r.exports,"createCustomErrorClass",(function(){return s("3BQlJ").createCustomErrorClass}),(function(e){return s("3BQlJ").createCustomErrorClass=e}));var n,o=s("3BQlJ"),a=(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),i=((0,o.createCustomErrorClass)("AccountNameRequired"),(0,o.createCustomErrorClass)("AccountNotSupported"),(0,o.createCustomErrorClass)("AmountRequired"),(0,o.createCustomErrorClass)("BluetoothRequired"),(0,o.createCustomErrorClass)("BtcUnmatchedApp"),(0,o.createCustomErrorClass)("CantOpenDevice"),(0,o.createCustomErrorClass)("CashAddrNotSupported"),(0,o.createCustomErrorClass)("CurrencyNotSupported"),(0,o.createCustomErrorClass)("DeviceAppVerifyNotSupported"),(0,o.createCustomErrorClass)("DeviceGenuineSocketEarlyClose"),(0,o.createCustomErrorClass)("DeviceNotGenuine"),(0,o.createCustomErrorClass)("DeviceOnDashboardExpected"),(0,o.createCustomErrorClass)("DeviceOnDashboardUnexpected"),(0,o.createCustomErrorClass)("DeviceInOSUExpected"),(0,o.createCustomErrorClass)("DeviceHalted"),(0,o.createCustomErrorClass)("DeviceNameInvalid"),(0,o.createCustomErrorClass)("DeviceSocketFail"),(0,o.createCustomErrorClass)("DeviceSocketNoBulkStatus"),(0,o.createCustomErrorClass)("DisconnectedDevice")),c=(0,o.createCustomErrorClass)("DisconnectedDeviceDuringOperation"),u=((0,o.createCustomErrorClass)("DeviceExtractOnboardingStateError"),(0,o.createCustomErrorClass)("DeviceOnboardingStatePollingError"),(0,o.createCustomErrorClass)("EnpointConfig"),(0,o.createCustomErrorClass)("EthAppPleaseEnableContractData"),(0,o.createCustomErrorClass)("FeeEstimationFailed"),(0,o.createCustomErrorClass)("FirmwareNotRecognized"),(0,o.createCustomErrorClass)("HardResetFail"),(0,o.createCustomErrorClass)("InvalidXRPTag"),(0,o.createCustomErrorClass)("InvalidAddress"),(0,o.createCustomErrorClass)("InvalidAddressBecauseDestinationIsAlsoSource"),(0,o.createCustomErrorClass)("LatestMCUInstalledError"),(0,o.createCustomErrorClass)("UnknownMCU"),(0,o.createCustomErrorClass)("LedgerAPIError"),(0,o.createCustomErrorClass)("LedgerAPIErrorWithMessage"),(0,o.createCustomErrorClass)("LedgerAPINotAvailable"),(0,o.createCustomErrorClass)("ManagerAppAlreadyInstalled"),(0,o.createCustomErrorClass)("ManagerAppRelyOnBTC"),(0,o.createCustomErrorClass)("ManagerAppDepInstallRequired"),(0,o.createCustomErrorClass)("ManagerAppDepUninstallRequired"),(0,o.createCustomErrorClass)("ManagerDeviceLocked"),(0,o.createCustomErrorClass)("ManagerFirmwareNotEnoughSpace"),(0,o.createCustomErrorClass)("ManagerNotEnoughSpace"),(0,o.createCustomErrorClass)("ManagerUninstallBTCDep"),(0,o.createCustomErrorClass)("NetworkDown"),(0,o.createCustomErrorClass)("NoAddressesFound"),(0,o.createCustomErrorClass)("NotEnoughBalance"),(0,o.createCustomErrorClass)("NotEnoughBalanceToDelegate"),(0,o.createCustomErrorClass)("NotEnoughBalanceInParentAccount"),(0,o.createCustomErrorClass)("NotEnoughSpendableBalance"),(0,o.createCustomErrorClass)("NotEnoughBalanceBecauseDestinationNotCreated"),(0,o.createCustomErrorClass)("NoAccessToCamera"),(0,o.createCustomErrorClass)("NotEnoughGas"),(0,o.createCustomErrorClass)("NotSupportedLegacyAddress"),(0,o.createCustomErrorClass)("GasLessThanEstimate"),(0,o.createCustomErrorClass)("PriorityFeeTooLow"),(0,o.createCustomErrorClass)("PriorityFeeTooHigh"),(0,o.createCustomErrorClass)("PriorityFeeHigherThanMaxFee"),(0,o.createCustomErrorClass)("MaxFeeTooLow"),(0,o.createCustomErrorClass)("PasswordsDontMatch"),(0,o.createCustomErrorClass)("PasswordIncorrect"),(0,o.createCustomErrorClass)("RecommendSubAccountsToEmpty"),(0,o.createCustomErrorClass)("RecommendUndelegation"),(0,o.createCustomErrorClass)("TimeoutTagged"),(0,o.createCustomErrorClass)("UnexpectedBootloader"),(0,o.createCustomErrorClass)("MCUNotGenuineToDashboard"),(0,o.createCustomErrorClass)("RecipientRequired"),(0,o.createCustomErrorClass)("UnavailableTezosOriginatedAccountReceive"),(0,o.createCustomErrorClass)("UnavailableTezosOriginatedAccountSend"),(0,o.createCustomErrorClass)("UpdateFetchFileFail"),(0,o.createCustomErrorClass)("UpdateIncorrectHash"),(0,o.createCustomErrorClass)("UpdateIncorrectSig"),(0,o.createCustomErrorClass)("UpdateYourApp"),(0,o.createCustomErrorClass)("UserRefusedDeviceNameChange"),(0,o.createCustomErrorClass)("UserRefusedAddress"),(0,o.createCustomErrorClass)("UserRefusedFirmwareUpdate"),(0,o.createCustomErrorClass)("UserRefusedAllowManager"),(0,o.createCustomErrorClass)("UserRefusedOnDevice"),(0,o.createCustomErrorClass)("TransportOpenUserCancelled")),l=((0,o.createCustomErrorClass)("TransportInterfaceNotAvailable"),(0,o.createCustomErrorClass)("TransportRaceCondition")),d=((0,o.createCustomErrorClass)("TransportWebUSBGestureRequired"),(0,o.createCustomErrorClass)("DeviceShouldStayInApp"),(0,o.createCustomErrorClass)("WebsocketConnectionError"),(0,o.createCustomErrorClass)("WebsocketConnectionFailed"),(0,o.createCustomErrorClass)("WrongDeviceForAccount"),(0,o.createCustomErrorClass)("WrongAppForCurrency"),(0,o.createCustomErrorClass)("ETHAddressNonEIP"),(0,o.createCustomErrorClass)("CantScanQRCode"),(0,o.createCustomErrorClass)("FeeNotLoaded"),(0,o.createCustomErrorClass)("FeeRequired"),(0,o.createCustomErrorClass)("FeeTooHigh"),(0,o.createCustomErrorClass)("DustLimit"),(0,o.createCustomErrorClass)("PendingOperation"),(0,o.createCustomErrorClass)("SyncError"),(0,o.createCustomErrorClass)("PairingFailed"),(0,o.createCustomErrorClass)("GenuineCheckFailed"),(0,o.createCustomErrorClass)("LedgerAPI4xx"),(0,o.createCustomErrorClass)("LedgerAPI5xx"),(0,o.createCustomErrorClass)("FirmwareOrAppUpdateRequired"),(0,o.createCustomErrorClass)("LanguageNotFound"),(0,o.createCustomErrorClass)("NoDBPathGiven"),(0,o.createCustomErrorClass)("DBWrongPassword"),(0,o.createCustomErrorClass)("DBNotReset"),function(e){function r(r,t){var n=this,o="TransportError";return(n=e.call(this,r||o)||this).name=o,n.message=r,n.stack=(new Error).stack,n.id=t,n}return a(r,e),r}(Error));(0,o.addCustomErrorDeserializer)("TransportError",(function(e){return new d(e.message,e.id)}));var f={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586,LOCKED_DEVICE:21781};function p(e){this.name="TransportStatusError";var r=Object.keys(f).find((function(r){return f[r]===e}))||"UNKNOWN_ERROR",t=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||r,n=e.toString(16);this.message="Ledger device: ".concat(t," (0x").concat(n,")"),this.stack=(new Error).stack,this.statusCode=e,this.statusText=r}p.prototype=new Error,(0,o.addCustomErrorDeserializer)("TransportStatusError",(function(e){return new p(e.statusCode)}))})),s.register("3BQlJ",(function(r,t){e(r.exports,"addCustomErrorDeserializer",(function(){return i}),(function(e){return i=e})),e(r.exports,"createCustomErrorClass",(function(){return c}),(function(e){return c=e}));var n,o=(n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},n(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),s={},a={},i=function(e,r){a[e]=r},c=function(e){var r=function(r){function t(n,o,s){var a=r.call(this,n||e,s)||this;if(Object.setPrototypeOf(a,t.prototype),a.name=e,o)for(var i in o)a[i]=o[i];if(s&&"object"==typeof s&&"cause"in s&&!("cause"in a)){var c=s.cause;a.cause=c,"stack"in c&&(a.stack=a.stack+"\nCAUSE: "+c.stack)}return a}return o(t,r),t}(Error);return s[e]=r,r}})),s.register("gWrUf",(function(r,t){var n;e(r.exports,"default",(function(){return n}),(function(e){return n=e}));var o=s("6rT8n").Buffer;var a=s("iBvu5");var i={data:o.alloc(0),dataLength:0,sequence:0};n=function(e,r){return{makeBlocks:function(t){var n,s,a=o.concat([(n=t.length,s=o.alloc(2),s.writeUInt16BE(n,0),s),t]),i=r-5,c=Math.ceil(a.length/i);a=o.concat([a,o.alloc(c*i-a.length+1).fill(0)]);for(var u=[],l=0;l<c;l++){var d=o.alloc(5);d.writeUInt16BE(e,0),d.writeUInt8(5,2),d.writeUInt16BE(l,3);var f=a.slice(l*i,(l+1)*i);u.push(o.concat([d,f]))}return u},reduceResponse:function(r,t){var n=r||i,s=n.data,c=n.dataLength,u=n.sequence;if(t.readUInt16BE(0)!==e)throw new a.TransportError("Invalid channel","InvalidChannel");if(5!==t.readUInt8(2))throw new a.TransportError("Invalid tag","InvalidTag");if(t.readUInt16BE(3)!==u)throw new a.TransportError("Invalid sequence","InvalidSequence");r||(c=t.readUInt16BE(5)),u++;var l=t.slice(r?5:7);return(s=o.concat([s,l])).length>c&&(s=s.slice(0,c)),{data:s,dataLength:c,sequence:u}},getReducedResult:function(e){if(e&&e.dataLength===e.data.length)return e.data}}}})),s.register("h6NoS",(function(t,n){e(t.exports,"ledgerUSBVendorId",(function(){return f}),(function(e){return f=e})),e(t.exports,"identifyUSBProductId",(function(){return p}),(function(e){return p=e}));var o,a,i,c=s("3sixR"),u=function(){return u=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},u.apply(this,arguments)};(i=a||(a={})).blue="blue",i.nanoS="nanoS",i.nanoSP="nanoSP",i.nanoX="nanoX";var l=((o={})[a.blue]={id:a.blue,productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,masks:[822083584,822149120],getBlockSize:function(e){return 4096}},o[a.nanoS]={id:a.nanoS,productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,masks:[823132160],getBlockSize:function(e){var t;return r(c).lt(null!==(t=r(c).coerce(e))&&void 0!==t?t:"","2.0.0")?4096:2048}},o[a.nanoSP]={id:a.nanoSP,productName:"Ledger Nano SP",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1569792,masks:[856686592],getBlockSize:function(e){return 32}},o[a.nanoX]={id:a.nanoX,productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,masks:[855638016],getBlockSize:function(e){return 4096},bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66",writeCmdUuid:"d973f2e3-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},o),d=(a.blue,a.nanoS,a.nanoX,Object.values(l)),f=11415,p=function(e){var r=d.find((function(r){return r.legacyUsbProductId===e}));if(r)return r;var t=e>>8;return d.find((function(e){return e.productIdMM===t}))},C=[],E={};for(var h in l){var v=l[h],m=v.bluetoothSpec;if(m)for(var g=0;g<m.length;g++){var y=m[g];C.push(y.serviceUuid),E[y.serviceUuid]=E[y.serviceUuid.replace(/-/g,"")]=u({deviceModel:v},y)}}})),s.register("krsE8",(function(r,t){e(r.exports,"log",(function(){return s}));var n=0,o=[],s=function(e,r,t){var s={type:e,id:String(++n),date:new Date};r&&(s.message=r),t&&(s.data=t),function(e){for(var r=0;r<o.length;r++)try{o[r](e)}catch(e){console.error(e)}}(s)};"undefined"!=typeof window&&(window.__ledgerLogsListen=function(e){return o.push(e),function(){var r=o.indexOf(e);-1!==r&&(o[r]=o[o.length-1],o.pop())}})}));
//# sourceMappingURL=TransportWebHID.6ce3c950.js.map
define=__define;})(window.define);